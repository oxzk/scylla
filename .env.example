# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection URL
# Format: postgresql://username:password@host:port/database
# For Azure: Use Azure Database for PostgreSQL connection string
DB_URL=postgresql://scylla:scylla_password@localhost:5432/scylla
DB_MIN_POOL_SIZE=2
DB_MAX_POOL_SIZE=10

# ============================================
# Application Server Configuration
# ============================================
APP_HOST=0.0.0.0
APP_PORT=8000
APP_DEBUG=false
APP_SECRET=change_this_to_a_random_secret_key
APP_WORKER=1

# ============================================
# Proxy Validation Configuration
# ============================================
# URL used for testing proxy connectivity
PROXY_TEST_URL=https://httpbin.org/get

# Timeout for proxy validation requests (seconds)
PROXY_TEST_TIMEOUT=15

# Maximum consecutive failures before removing proxy
MAX_FAIL_COUNT=3

# Maximum number of proxies to validate in each batch
VALIDATE_BATCH_LIMIT=300

# ============================================
# Concurrency Limits
# ============================================
# Maximum concurrent spider tasks
MAX_CONCURRENT_SPIDERS=5

# Maximum concurrent proxy validation tasks
MAX_CONCURRENT_VALIDATORS=50

# ============================================
# Task Scheduler Intervals (seconds)
# ============================================
# Interval for crawling new proxies from sources
CRAWL_INTERVAL=3600

# Interval for validating pending/failed proxies
VALIDATE_INTERVAL=20

# Interval for re-validating successful proxies
VALIDATE_SUCCESS_INTERVAL=60

# Interval for cleaning up failed/stale proxies
CLEANUP_INTERVAL=1200

# Interval for updating proxy country information
UPDATE_COUNTRY_INTERVAL=600

# ============================================
# Quality Score Weights (must sum to 1.0)
# ============================================
# Weight for success rate in quality score calculation
WEIGHT_SUCCESS_RATE=0.4

# Weight for speed in quality score calculation
WEIGHT_SPEED=0.3

# Weight for stability in quality score calculation
WEIGHT_STABILITY=0.3

# ============================================
# Redis Configuration (Optional)
# ============================================
# Redis connection URL for task scheduling and caching
# Format: redis://[:password@]host:port/database
REDIS_URL=redis://localhost:6379/0

# Enable/disable Redis (set to true to enable)
REDIS_ENABLED=true